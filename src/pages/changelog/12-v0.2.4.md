# V0.2.4

## Security Fixes

### Critical XSS Vulnerability Patches
- Fixed XSS attacks in markdown content rendering - Added DOMPurify sanitization to all `dangerouslySetInnerHTML` usage
- Fixed XSS attacks in search result highlights - Implemented restrictive HTML sanitization for search highlights
- Added comprehensive HTML sanitization - All user-generated content is now properly sanitized before rendering

### Path Traversal Protection
- Fixed path traversal vulnerabilities - Added strict path validation to prevent access to files outside allowed directories
- Enhanced file access security - Implemented suspicious character detection and path normalization
- Secured Vite plugin file loading - Added validation to custom MDX raw content loader

### Security Infrastructure
- New security utility module (`src/utils/security.ts`) with:
  - `sanitizeHTML()` - Comprehensive HTML sanitization for markdown content
  - `sanitizeSearchHighlight()` - Restrictive sanitization for search results
  - `validateFilePath()` - Path traversal prevention and validation
- Added DOMPurify dependency - Industry-standard HTML sanitization library
- Comprehensive security test coverage - 100% test coverage for all security functions

## Testing

- Added security test suite - Complete test coverage for XSS prevention and path validation
- Integration tests - End-to-end security validation
- Mock testing infrastructure - Proper vitest mocking for DOMPurify

## Dependencies

- Added: `dompurify@^3.0.7` - HTML sanitization
- Added: `@types/dompurify@^3.0.5` - TypeScript definitions

## Security Impact

This release addresses 3 critical security vulnerabilities:

1. XSS via HTML injection (High Risk) - Fixed with DOMPurify sanitization
2. Path traversal attacks (Medium Risk) - Fixed with strict path validation  
3. Code injection via search (Medium Risk) - Fixed with restrictive search sanitization

All existing functionality is preserved - these are purely additive security enhancements with no breaking changes.